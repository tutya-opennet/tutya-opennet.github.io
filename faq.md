---
sitemap: true
logo: iconoir/chat-bubble-question.svg
---

# پرسش‌های متداول(FAQ)

### چرا tutya-opennet؟

tutya-opennet برای ساخت یک طرح مسیریابی غیرمتمرکز(decentralised routing scheme) برای شبکه‌های مش(mesh networks) که به‌طور بالقوه می‌توانند در مقیاس جهانی(global scale) کار کنند ایجاد شد؛ به‌ویژه با انگیزه مشکلات قابل‌توجه کارایی(performance) و مقیاس‌پذیری(scaling) که در آن زمان در [cjdns](https://github.com/cjdelisle/cjdns) وجود داشت. با این حال، tutya-opennet یک فورک(fork) نیست — یک پروژه مستقل(standalone) جداگانه است. برای اطلاعات بیشتر درباره مشکلاتی که تلاش می‌کنیم حل کنیم، صفحه [درباره(About)](about.md) را ببینید.

### آیا tutya-opennet امن است؟

تمام ترافیکی که از طریق شبکه tutya-opennet ارسال می‌شود به‌صورت انتها-به-انتها(end-to-end) رمزگذاری می‌شود، به‌طوری‌که هیچ گره میانی(intermediate nodes) نمی‌تواند آن را رمزگشایی(decrypt) یا خواندن(read) کند و فقط گیرنده(recipient) موردنظر قادر به رمزگشایی است.

با این حال، این هنوز یک شبکه عمومی(public network) است، بنابراین هنگام استفاده از tutya-opennet باید اقدامات احتیاطی مناسب(adequate precautions) انجام دهید، مانند استفاده از فایروال(firewall) و عدم افشای سرویس‌هایی که نمی‌خواهید دیگران بتوانند به آن‌ها دسترسی پیدا کنند.

همچنین لازم می‌دانیم تاکید کنیم که با وجود اینکه tutya-opennet از پیاده‌سازی‌های رمزنگاری استاندارد صنعت(industry-standard cryptographic implementations) در کتابخانه استاندارد Go استفاده می‌کند، کدبیس(codebase) ما به‌طور رسمی و خارجی(externally audited) ممیزی نشده است.

### آیا tutya-opennet پایدار است؟

tutya-opennet نسبتاً پایدار(stable) است و بسیار به‌ندرت کرش(crash) می‌کند، هرچند موضع رسمی ما این است که هنوز نرم‌افزار آلفا(alpha software) است و همراه با هشدارهای معمول ارائه می‌شود. باید انتظار داشته باشید که همه چیز در همه شرایط کاملاً روان نباشد و بنابراین احتمالاً نباید در حال حاضر بارهای کاری ماموریت‌حیاتی(mission-critical) یا مرگ‌و‌زندگی(life-and-death) را روی tutya-opennet اجرا کنید.

همچنین باید مطمئن شوید که تا حد امکان به‌روز(up-to-date) می‌مانید تا گره(node) شما با تغییرات پروتکل(protocol changes) همچنان سازگار باشد.

### آیا tutya-opennet ناشناس است؟

خیر، هدف پروژه tutya-opennet فراهم کردن ناشناس‌بودن(anonymity) نیست. همتاهای مستقیم(direct peers) روی اینترنت می‌توانند آدرس IP شما را ببینند و ممکن است بتوانند از این اطلاعات برای تعیین مکان(location) یا هویت(identity) شما استفاده کنند. همتاسازی‌های کشف‌شده توسط چندپخشی(multicast-discovered peerings) در همان شبکه معمولاً آدرس MAC دستگاه شما را آشکار می‌کنند.

دیگر گره‌ها در شبکه ممکن است بتوانند برخی اطلاعات درباره اینکه با کدام گره‌ها همتا(peered) هستید را از طریق اطلاعات دیباگ(debug information) که در حال حاضر در شبکه در معرض دید است تشخیص دهند، هرچند طراحی پروتکل(protocol design) وابستگی زیادی به این اطلاعات ندارد.

### آیا ماشین من در معرض کاربران دیگر شبکه قرار می‌گیرد؟

معمولاً بله، شما از سوی گره‌های دیگر شبکه قابل مسیریابی(routable) خواهید بود. اگر می‌خواهید اتصال‌های ورودی(incoming connections) به ماشین خود را محدود کنید، باید از یک فایروال IPv6 استفاده کنید. مراحل این کار از سکویی(platform) به سکوی دیگر متفاوت است.

#### Linux

فرض کنید آداپتور(adapter) TUN/TAP شما نام `tun0` دارد:

##### با `ip6tables`

```
ip6tables -A INPUT -i tun0 -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT
ip6tables -A INPUT -i tun0 -m conntrack --ctstate INVALID -j DROP
ip6tables -A INPUT -i tun0 -j DROP
```

##### با `ufw`

```
# The default of ufw is to block all incoming connections
# The following blocks incoming connections if the default has been set to allow by:
# ufw default allow
ufw deny in on tun0 proto ipv6
```

#### Windows (با Windows Firewall)

Windows به‌طور پیش‌فرض باید آداپتور TAP را به‌عنوان «شبکه عمومی(Public Network)» طبقه‌بندی کند. Windows Firewall را پیکربندی کنید تا اتصال‌های ورودی را روی شبکه‌های عمومی مسدود کند.

#### macOS (با فایروال داخلی)

macOS یک فایروال برنامه‌ای(application firewall) دارد، بنابراین هر سیاست فایروالی که روی رابط‌های دیگر اعمال شود، روی رابط tutya-opennet نیز اعمال خواهد شد.

### آیا می‌توانم یک مسیریاب tutya-opennet بدون رابط TUN اجرا کنم؟

بله، می‌توانید تنظیم پیکربندی `IfName` را روی `\"none\"` قرار دهید. این کار مانع از ایجاد رابط TUN توسط tutya-opennet می‌شود.

شما می‌توانید اتصال‌های همتاسازی(peering connections) ایجاد و قبول کنید و همچنان ترافیک را به نمایندگی از همتاهای خود مسیریابی کنید، اما از داخل شبکه tutya-opennet قابل دسترسی نخواهید بود و همچنین قادر به ارسال ترافیک به شبکه هم نخواهید بود. در این حالت، کاربران دیگر شبکه اگر تلاش کنند به آدرس‌های IPv6 tutya-opennet گره شما برسند یا آن را پینگ(ping) کنند پاسخی دریافت نمی‌کنند.

### آیا tutya-opennet به IPv6 نیاز دارد؟

سیستم شما باید IPv6 فعال داشته باشد تا بتواند ترافیک را به/از شبکه tutya-opennet ارسال یا دریافت کند؛ تقریباً همه سیستم‌عامل‌های مدرن این قابلیت را دارند.

در حالی که tutya-opennet فقط ترافیک IPv6 را به‌صورت داخلی حمل می‌کند، برای همتا شدن با سایر کاربران tutya-opennet نیاز به اتصال اینترنت IPv6 ندارید. می‌توانید با گره‌های tutya-opennet از طریق IPv4 یا IPv6 همتا شوید.

### آیا گره من به نمایندگی از گره‌های دیگر ترافیک مسیریابی می‌کند؟

اگر بیش از یک همتا(peering) داشته باشید، گره شما می‌تواند به‌طور بالقوه به نمایندگی از کاربران دیگر شبکه ترافیک مسیریابی کند. اگر فقط یک همتا داشته باشید، معمولاً ترافیک را مسیریابی نمی‌کنید، هرچند ممکن است گاهی برخی پیام‌های پروتکلی را پردازش کنید. اگر محدودیت مصرف داده(data usage caps) دارید، این موضوع را در نظر بگیرید.

### آیا tutya-opennet با مسیریابی شبکه من تداخل دارد؟

tutya-opennet از بازه `0200::/7` استفاده می‌کند که یک بازه منسوخ(deprecated) توسط IETF است. از سال 2004 منسوخ شده است، در انتظار تغییراتی در یک RFC که هرگز طی این سال‌ها محقق نشد. تصمیم گرفته شد از این بازه به‌جای `fc00::/7` (که معمولاً به شبکه‌های خصوصی اختصاص داده می‌شود) استفاده شود تا از تداخل با بازه‌های ULA موجود جلوگیری شود.

تا زمانی که از این بازه آدرس منسوخ در شبکه خود استفاده نکنید، هیچ تداخل مسیریابی نخواهید داشت.

### آیا می‌توان شبکه را خزید(crawled)؟

در حال حاضر امکان خزیدن(crawl) شبکه با پرس‌وجو از هندلرهای پرس‌وجوی دیباگ(debug query handlers) گره‌های راه‌دور وجود دارد. این همان روشی است که [نقشه شبکه(network map)](http://51.15.204.214) و مسابقه محبوبیت(popularity contest) امروز تولید می‌شوند و به ما اجازه می‌دهند مقیاس‌پذیری شبکه را مشاهده کنیم. با این حال، این endpointها برای کارکرد شبکه ضروری نیستند و در نسخه آینده قطعاً حذف خواهند شد — قطعاً پیش از یک انتشار احتمالی نسخه 1.0.

### تازه tutya-opennet را نصب کرده‌ام و نمی‌توانم کسی را پینگ کنم. چه چیزی را از دست داده‌ام؟

tutya-opennet نیاز دارد که یا یک همتای ایستا(static peer) به یک گره tutya-opennet دیگر پیکربندی کنید، یا یک گره tutya-opennet دیگر را *در همان زیرشبکه(same subnet)* با استفاده از کشف چندپخشی(multicast discovery) پیدا کنید (که به‌طور پیش‌فرض فعال است). بدون همتا، از بقیه شبکه جدا خواهید شد. اگر هیچ همتایی اضافه یا کشف نکرده باشید، نمی‌توانید فراتر از گره خود دسترسی پیدا کنید.

می‌توانید با اجرای `yggdrasilctl getPeers` بررسی کنید آیا همتایی دارید یا نه — همتای روی پورت 0 گره خودتان است، پورت‌های 1 و بالاتر همتاهای فعال شما هستند.

همتا پیدا نمی‌کنید؟ سعی کنید یک [همتای عمومی(public peer)](https://github.com/yggdrasil-network/public-peers) اضافه کنید.

### آیا tutya-opennet همتاسازی‌ها را به‌صورت خودکار اضافه یا حذف می‌کند؟

همتاسازی‌ها ممکن است در همان زیرشبکه به‌صورت خودکار برقرار شوند اگر همتاسازی چندپخشی(multicast peering) روی هر دو گره فعال باشد، اما tutya-opennet هرگز همتاسازی‌های راه‌دور(remote peerings) را به‌صورت خودکار روی شبکه‌هایی مثل اینترنت اضافه یا حذف نمی‌کند.

### بسته Debian tutya-opennet را نصب کرده‌ام و حالا نمی‌توانم لاگ‌ها را پیدا کنم

بسته Debian سرویس tutya-opennet را در systemd نصب می‌کند، بنابراین می‌توانید از systemd لاگ‌ها را بگیرید:

- `systemctl status yggdrasil`
- `journalctl -u yggdrasil`

### فایل پیکربندی را تغییر داده‌ام اما چیزی عوض نشده است

tutya-opennet فقط در زمان راه‌اندازی(startup) پیکربندی را بارگذاری می‌کند. فرایند(process) یا سرویس(service) tutya-opennet را ری‌استارت کنید تا پیکربندی جدید بارگذاری شود. اگر در حال عیب‌یابی(troubleshooting) اتصال‌های همتاسازی هستید، خروجی لاگ(logging output) و/یا خروجی `yggdrasilctl getPeers` را بررسی کنید تا ببینید آیا همتایی متصل شده است یا نه.

### tutya-opennet را روی ماشینی اجرا می‌کنم که مستقیماً از اینترنت قابل دسترسی است. آیا این یعنی هر کسی می‌تواند با من همتا شود؟

پیکربندی پیش‌فرض tutya-opennet روی هیچ پورتی خارجی برای اتصال‌های همتاسازی ورودی گوش نمی‌دهد. برای پذیرش اتصال‌های همتاسازی از گره‌های دیگر، باید یک ورودی listener را به بخش `Listen` در فایل پیکربندی اضافه کنید. می‌توانید روی هر پورت TCP دلخواه خود در حالت TCP ساده (مثلاً `tcp://[::]:12345`) یا TLS (مثلاً `tls://[::]:54321`) بایند(bind) کنید.

می‌توانید اتصال‌های ورودی به میزبان خود را با استفاده از فایروال محدود کنید، با محدود یا رد کردن اتصال‌ها به پورتی که در گزینه پیکربندی `Listen` مشخص کرده‌اید. این کار مفید است اگر می‌خواهید همتاسازی‌ها را از بازه‌های IP خاص یا روی رابط‌های خاص محدود کنید.

همچنین می‌توانید با تغییر گزینه `AllowedPublicKeys` در پیکربندی tutya-opennet مشخص کنید چه کسی می‌تواند با شما همتا شود. وقتی این فهرست پر باشد، فقط گره‌هایی با کلیدهای عمومی مشخص‌شده قادر به برقراری همتاسازی با گره شما خواهند بود. این مفید است اگر می‌خواهید مطمئن شوید فقط از دستگاه‌های خودتان همتا می‌گیرید یا اجازه همتاسازی از کاربران خاص را بدهید. وقتی این فهرست خالی باشد، هر گره راه‌دوری مجاز است با شما همتا شود.

### tutya-opennet را پشت NAT اجرا می‌کنم. آیا این بر اتصال‌پذیری من اثر می‌گذارد؟

برای پذیرش همتاسازی‌های ورودی، احتمالاً باید پورت‌فورواردینگ(port forwarding) را روی روتر/درگاه(gateway) خود تنظیم کنید. tutya-opennet روی شماره پورتی که در تنظیم `Listen` مشخص شده گوش می‌دهد، بنابراین این پورت را به ماشینی که tutya-opennet را اجرا می‌کند فوروارد کنید.

برای استفاده از همتاسازی‌های خروجی، یعنی همتاهای ایستایی که در تنظیم `Peers` پیکربندی کرده‌اید، احتمالاً نیازی به تغییر چیزی نیست.

صرف‌نظر از اینکه همتاسازی‌های شما ورودی یا خروجی باشند، شما قادر خواهید بود اتصال‌های ورودی را روی آدرس‌های IPv6 tutya-opennet خود بپذیرید. این موضوع tutya-opennet را به روشی موثر برای پذیرش اتصال‌های ورودی وقتی پشت NATهایی هستید که کنترلشان را ندارید تبدیل می‌کند، مانند NATهای رده حامل(carrier-grade NATs) یا CGNAT.

### چرا آداپتور tutya-opennet من MTU غیرعادی بالایی دارد؟

همتاسازی‌های tutya-opennet معمولاً مبتنی بر جریان(stream-based) هستند و بنابراین هنگام ارسال حجم زیاد داده با مشکل قطعه‌قطعه‌سازی(fragmentation) مواجه نمی‌شوند. با استفاده از بزرگ‌ترین MTU ممکن که توسط یک سکو پشتیبانی می‌شود، می‌توانیم در هر نوشتن(write) داده بیشتری ارسال کنیم و اتصال TCP بقیه کار را انجام می‌دهد. این همچنین تا حدی در کاهش تقویت TCP-over-TCP کمک می‌کند، زیرا پیام‌های کنترلی کمتری برای تقویت وجود دارد.

این کار همچنین CPU کمتری مصرف می‌کند، زیرا می‌توانیم داده بیشتری در هر فراخوانی سیستمی(system call) روی آداپتور TUN/TAP یا سوکت شبکه ارسال کنیم. فراخوانی‌های سیستمی اغلب باعث تعویض متن(context switches) توسط سیستم‌عامل می‌شوند و عملیات‌های پرهزینه‌ای هستند؛ بنابراین با استفاده از MTU تا 65535، می‌توانیم تا 42 تعویض متن برای هر بسته ذخیره کنیم — یک بهبود کارایی قابل‌توجه!

### آیا tutya-opennet در کنار یک VPN موجود کار می‌کند؟

بله، tutya-opennet در کنار بسیاری از VPNها روی بیشتر سکوها کار می‌کند.

توجه داشته باشید که برخی نرم‌افزارهای VPN (برای مثال، [Mullvad VPN](https://mullvad.net/en/help/using-mullvad-vpn-app/#killswitch) و Cloudflare WARP) سعی می‌کنند از نشت ترافیک جلوگیری کنند با افزودن قوانین فایروال یا ورودی‌های جدول مسیریابی سیاه‌چاله(blackhole routing table entries). این می‌تواند در برخی موارد با tutya-opennet تداخل ایجاد کند. باید نرم‌افزار VPN خود را دوباره پیکربندی کنید تا ترافیک را به این شکل قطع نکند یا برای پشتیبانی با فروشنده(vendor) نرم‌افزار VPN تماس بگیرید، زیرا ما نمی‌توانیم از داخل tutya-opennet جلوی این را بگیریم.

### آیا tutya-opennet با شبکه‌هایی مانند Tor یا I2P کار می‌کند؟

tutya-opennet می‌تواند روی Tor یا I2P همتا شود. برای همتاهای عمومی(public peers) بخش [/public-peers/tree/master/other](https://github.com/yggdrasil-network/public-peers/tree/master/other) را ببینید.

### آیا بودن به‌عنوان «گره ریشه(root node)» در درخت گسترده(spanning tree) مزیتی دارد؟

خیر. در بدترین حالت، گره ریشه ممکن است در مسیرهای سناریوی بدترین حالت(worst-case-scenario) بین دیگر گره‌ها استفاده شود، در نبود امکان تعیین مسیرهای بهتر، اما این مزیتی ایجاد نمی‌کند.